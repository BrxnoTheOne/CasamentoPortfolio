# üíç Lista de Casamento Serverless (Pix & Cotas)

> Um sistema de lista de presentes real, focado em alta convers√£o via Pix, zero taxas de intermedi√°rios e l√≥gica de fracionamento de itens caros (Crowdfunding).

![Preview do Projeto](<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/6350b968-58ad-45c2-93fb-9bc0a3751553" />
)

## üìñ Sobre o Projeto

Este projeto nasceu de uma necessidade real: **fugir das taxas abusivas (4% a 6%)** cobradas pelos sites tradicionais de lista de casamento (iCasei, Casar.com, etc).

O objetivo foi criar uma **Single Page Application (SPA)** leve, onde os convidados pudessem visualizar os presentes, escolher "fatias" (cotas) de itens caros (como uma Lua de Mel ou Geladeira) e realizar o pagamento via Pix direto para a conta do casal, garantindo que 100% do valor fosse aproveitado.

### üéØ Resultados Reais
-   **Economia:** 0% de taxas de transa√ß√£o.
-   **Performance:** Carregamento instant√¢neo (Vanilla JS + Supabase).
-   **Experi√™ncia:** Checkout simplificado em 2 cliques (Copia e Cola Pix).

---

## üöÄ Funcionalidades Principais

-   **üì¶ Sistema de Cotas (Crowdfunding):** Itens de alto valor s√£o divididos em fra√ß√µes. O convidado compra 1 cota e v√™ a barra de progresso avan√ßar em tempo real.
-   **üîÑ L√≥gica de Multiplica√ß√£o:** Para itens baratos (ex: Toalhas), o sistema inverte a l√≥gica, agrupando v√°rias unidades em um √∫nico card de "meta".
-   **üí∏ Pagamento via Pix:** Gera√ß√£o autom√°tica de Payload Pix e QR Code din√¢mico usando API externa.
-   **üîí Seguran√ßa de API:** Arquitetura de separa√ß√£o de credenciais (Config Pattern) para proteger chaves de API no Frontend.
-   **üì± Design Responsivo:** Interface Mobile-First utilizando CSS Grid e Flexbox.
-   **‚è≥ Conte√∫do Temporal:** L√≥gica de "Time-gating" para revelar o card da Lua de Mel apenas pr√≥ximo √† data do evento.

---

## üõ† Tecnologias Utilizadas

O projeto segue a filosofia **KISS (Keep It Simple, Stupid)**. Evitei frameworks complexos para garantir manuten√ß√£o f√°cil e custo zero de hospedagem.

-   **Frontend:**
    -   HTML5 Sem√¢ntico
    -   CSS3 (Grid Layout, Clamp para tipografia fluida, Vari√°veis CSS)
    -   JavaScript (ES6 Modules, Async/Await)
-   **Backend (BaaS):**
    -   **Supabase (PostgreSQL):** Banco de dados relacional e API RESTful instant√¢nea.
-   **Integra√ß√µes:**
    -   API de QR Code (GoQR/QRServer)
    -   API de IP (Ipify para log de seguran√ßa simples)

---

## üí° Hist√≥ria e Decis√µes T√©cnicas (Processo de Cria√ß√£o)

Durante o desenvolvimento, enfrentei tr√™s desafios principais que ditaram a arquitetura do projeto:

### 1. O Dilema dos Itens Caros
**Problema:** Nenhum convidado daria, sozinho, um sof√° de R$ 2.500,00.
**Solu√ß√£o:** Implementei uma l√≥gica de **Cotas**.
-   *No Banco:* Defino `total_cotas = 10` e `preco = 2500`.
-   *No Frontend:* O JS calcula `Pre√ßo da Cota = Pre√ßo Total / Total de Cotas` e renderiza uma barra de progresso baseada em `(vendidas / total) * 100%`.

### 2. O Problema do Cart√£o de Cr√©dito
**Problema:** Integrar Stripe ou MercadoPago traria taxas de ~5% e reten√ß√£o do dinheiro por 14 dias (D+14).
**Solu√ß√£o:** Focar 100% no **Pix**.
-   Criei um gerador de Payload est√°tico. O convidado copia o c√≥digo, paga no banco dele e informa no site.
-   *Trade-off:* A confirma√ß√£o n√£o √© autom√°tica (webhook), mas a economia de taxas compensa a valida√ß√£o manual.

### 3. Seguran√ßa no Frontend (Client-Side)
**Problema:** Como usar o Supabase no front sem expor chaves de administra√ß√£o?
**Solu√ß√£o:**
-   Uso apenas da `ANON_KEY` (chave p√∫blica limitada) do Supabase.
-   Cria√ß√£o do padr√£o `config.js` (ignorado pelo Git) para injetar as credenciais em `window.CONFIG`. Isso permite que o c√≥digo seja p√∫blico no GitHub sem vazar dados sens√≠veis.

---

## üóÑ Estrutura do Banco de Dados (Supabase)

A tabela principal `presentes` foi estruturada para suportar a l√≥gica h√≠brida de itens √∫nicos e cotas.

```sql
CREATE TABLE presentes (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  nome_item TEXT NOT NULL,
  preco NUMERIC(10,2) NOT NULL, -- Pre√ßo TOTAL do item/combo
  imagem_url TEXT,
  total_cotas INTEGER DEFAULT 1, -- Se 1 = Item √önico. Se > 1 = Sistema de Cotas.
  cotas_vendidas INTEGER DEFAULT 0,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now())
);


# üìÑ Licen√ßa
Este projeto foi desenvolvido para fins pessoais e educacionais. Sinta-se livre para usar a l√≥gica como base para seus estudos ou para o seu pr√≥prio evento!
